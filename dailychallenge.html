<html lang="en">
<head>
    <meta charset="utf-8"/>
    <meta content="width=device-width, initial-scale=1" name="viewport"/>
    <title>
        Gamification &amp; Learning Features - Interactive STEM Hub
    </title>
    <script src="https://cdn.tailwindcss.com">
    </script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" rel="stylesheet"/>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&amp;display=swap" rel="stylesheet"/>
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #1e293b;
        }
        /* Scrollbar for iframe containers */
        .scrollbar-hide::-webkit-scrollbar {
            display: none;
        }
        .scrollbar-hide {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
    </style>
</head>
<body class="flex flex-col min-h-screen">
<header class="bg-gradient-to-r from-indigo-700 via-purple-700 to-pink-700 shadow-lg p-5 flex flex-col sm:flex-row justify-between items-center text-white">
    <h1 class="text-3xl font-extrabold tracking-wide select-none drop-shadow-lg">
        STEM Learning Hub
    </h1>
    <nav class="mt-4 sm:mt-0 space-x-6 text-lg font-semibold">
        <a class="hover:text-yellow-300 transition-colors duration-300" href="#challenge-section">
            Challenges
        </a>
        <a class="hover:text-yellow-300 transition-colors duration-300" href="#xp-section">
            Progress
        </a>
        <a class="hover:text-yellow-300 transition-colors duration-300" href="#courses-section">
            Courses
        </a>
        <a class="hover:text-yellow-300 transition-colors duration-300" href="#labs-section">
            Virtual Labs
        </a>
        <a class="hover:text-yellow-300 transition-colors duration-300" href="#games-section">
            Games
        </a>
    </nav>
</header>
<main class="flex-grow container mx-auto px-4 py-8 max-w-7xl space-y-12">
    <!-- Today's Challenge Card -->
    <section aria-label="Today's Challenge" class="bg-white bg-opacity-90 rounded-xl shadow-2xl p-8 max-w-md mx-auto sm:mx-0 relative overflow-hidden" id="challenge-section">
        <img alt="Abstract colorful science themed background with floating atoms and molecules" class="pointer-events-none absolute top-0 left-0 w-full h-full object-cover opacity-10" height="300" loading="lazy" src="https://storage.googleapis.com/a1aa/image/923036c5-398f-4615-dc77-587e334c6c7f.jpg" width="600"/>
        <div class="relative z-10 flex items-center justify-between mb-6">
            <h2 class="text-2xl font-extrabold text-indigo-700 select-none">
                Today's Challenge
            </h2>
            <button aria-label="Refresh challenge" class="text-indigo-600 hover:text-indigo-900 focus:outline-none focus:ring-2 focus:ring-indigo-500 rounded-full p-2 transition" onclick="refreshChallenge()">
                <i class="fas fa-sync-alt fa-lg">
                </i>
            </button>
        </div>
        <p aria-live="polite" class="text-gray-800 text-lg font-medium mb-5" id="challenge-text" role="region" tabindex="0">
            Solve the mystery of the missing variable in the algebraic equation: 3x + 7 = 22.
        </p>
        <div aria-atomic="true" aria-live="polite" class="text-sm text-indigo-600 font-semibold tracking-wide" id="challenge-timer">
            Resets in: 23h 59m 59s
        </div>
    </section>
    <!-- XP System with Level Progress -->
    <section aria-label="XP System and Level Progress" class="bg-white bg-opacity-90 rounded-xl shadow-2xl p-8 max-w-md mx-auto sm:mx-0 relative overflow-hidden" id="xp-section">
        <img alt="Abstract progress bar background with glowing lines and dots" class="pointer-events-none absolute top-0 left-0 w-full h-full object-cover opacity-10" height="300" loading="lazy" src="https://storage.googleapis.com/a1aa/image/5f1d13b1-abeb-4bd4-7046-c989161f58e8.jpg" width="600"/>
        <h2 class="text-2xl font-extrabold text-indigo-700 mb-6 select-none">
            Your Level Progress
        </h2>
        <div class="flex items-center space-x-5 mb-4">
            <div aria-label="Current level 7" class="text-3xl font-extrabold text-gray-900 select-text">
                Level 7
            </div>
            <div aria-label="Experience points 3500 out of 5000" class="text-lg text-gray-700 select-text">
                XP: 3500 / 5000
            </div>
        </div>
        <div class="w-full bg-gray-300 rounded-full h-8 overflow-hidden shadow-inner">
            <div aria-valuemax="5000" aria-valuemin="0" aria-valuenow="3500" class="bg-gradient-to-r from-indigo-600 via-purple-600 to-pink-600 h-8 rounded-full transition-all duration-700 ease-in-out" id="xp-bar" role="progressbar" style="width: 70%">
            </div>
        </div>
        <button aria-label="Gain 500 XP" class="mt-6 w-full bg-gradient-to-r from-pink-500 via-purple-600 to-indigo-700 text-white font-semibold py-3 rounded-lg shadow-lg hover:brightness-110 focus:outline-none focus:ring-4 focus:ring-pink-400 transition" onclick="gainXP(500)">
            Complete Task +500 XP
        </button>
    </section>
    <!-- Unlockable Content -->
    <section aria-label="Courses" class="max-w-6xl mx-auto space-y-8" id="courses-section">
        <h2 class="text-3xl font-extrabold text-white mb-6 select-none drop-shadow-lg text-center">
            Courses
        </h2>
        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8">
            <!-- Basic Course - unlocked -->
            <article aria-label="Basic Physics course, unlocked" class="bg-white rounded-xl shadow-lg p-6 flex flex-col hover:scale-105 transition-transform cursor-pointer focus:outline-none focus:ring-4 focus:ring-indigo-400" onclick="alert('Starting Basic Physics course!')" role="button" tabindex="0">
                <img alt="Illustration of basic physics concepts with a bouncing ball and gravity arrows" class="rounded-lg mb-5 w-full object-cover h-48" height="192" loading="lazy" src="https://storage.googleapis.com/a1aa/image/21ca9038-7af3-452a-ddc5-6ee9d515d903.jpg" width="400"/>
                <h3 class="text-xl font-extrabold text-indigo-700 mb-3">
                    Basic Physics
                </h3>
                <p class="text-gray-700 flex-grow mb-5">
                    Learn the fundamentals of motion, forces, and energy.
                </p>
                <button class="mt-auto bg-indigo-600 text-white py-3 rounded-lg hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 transition" type="button">
                    Start Course
                </button>
            </article>
            <!-- Intermediate Course - locked -->
            <article aria-disabled="true" aria-label="Intermediate Chemistry course, locked" class="bg-white rounded-xl shadow-lg p-6 flex flex-col opacity-60 cursor-not-allowed select-none" tabindex="-1">
                <img alt="Illustration of chemical molecules and lab equipment for intermediate chemistry" class="rounded-lg mb-5 w-full object-cover h-48" height="192" loading="lazy" src="https://storage.googleapis.com/a1aa/image/da107835-9b2a-465a-dd6f-b62dc520dd76.jpg" width="400"/>
                <h3 class="text-xl font-extrabold text-indigo-700 mb-3">
                    Intermediate Chemistry
                </h3>
                <p class="text-gray-700 flex-grow mb-5">
                    Dive deeper into chemical reactions and molecular structures.
                </p>
                <button class="mt-auto bg-gray-400 text-white py-3 rounded-lg cursor-not-allowed" disabled="" type="button">
                    Locked
                </button>
            </article>
            <!-- Advanced Course - locked -->
            <article aria-disabled="true" aria-label="Advanced Mathematics course, locked" class="bg-white rounded-xl shadow-lg p-6 flex flex-col opacity-60 cursor-not-allowed select-none" tabindex="-1">
                <img alt="Illustration of advanced math formulas and graphs on a chalkboard" class="rounded-lg mb-5 w-full object-cover h-48" height="192" loading="lazy" src="https://storage.googleapis.com/a1aa/image/95a44500-e46c-4946-8ae8-ac290091f9cc.jpg" width="400"/>
                <h3 class="text-xl font-extrabold text-indigo-700 mb-3">
                    Advanced Mathematics
                </h3>
                <p class="text-gray-700 flex-grow mb-5">
                    Master calculus, linear algebra, and differential equations.
                </p>
                <button class="mt-auto bg-gray-400 text-white py-3 rounded-lg cursor-not-allowed" disabled="" type="button">
                    Locked
                </button>
            </article>
        </div>
    </section>
    <!-- Virtual STEM Labs -->
    <section aria-label="Virtual STEM Labs" class="bg-white bg-opacity-90 rounded-xl shadow-2xl p-8 max-w-6xl mx-auto relative overflow-hidden" id="labs-section">
        <img alt="Abstract colorful lab background with molecules and digital grids" class="pointer-events-none absolute top-0 left-0 w-full h-full object-cover opacity-10" height="400" loading="lazy" src="https://storage.googleapis.com/a1aa/image/2752a2b0-36c2-4fd0-b517-8e31aaeaa7b0.jpg" width="900"/>
        <h2 class="text-3xl font-extrabold text-indigo-700 mb-8 select-none text-center">
            Virtual STEM Labs
        </h2>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
            <!-- Physics Lab -->
            <article class="bg-white rounded-lg shadow-lg overflow-hidden flex flex-col">
                <h3 class="bg-indigo-600 text-white text-xl font-bold p-4 select-none">
                    Physics Lab
                </h3>
                <iframe aria-label="Interactive physics simulation from PhET" class="w-full h-72 md:h-96 scrollbar-hide" loading="lazy" src="https://phet.colorado.edu/sims/html/forces-and-motion-basics/latest/forces-and-motion-basics_en.html" title="Interactive physics simulation: Forces and Motion Basics">
                </iframe>
            </article>
            <!-- Chemistry Lab -->
            <article class="bg-white rounded-lg shadow-lg overflow-hidden flex flex-col">
                <h3 class="bg-purple-600 text-white text-xl font-bold p-4 select-none">
                    Chemistry Lab
                </h3>
                <iframe aria-label="Interactive chemistry simulation from PhET" class="w-full h-72 md:h-96 scrollbar-hide" loading="lazy" src="https://phet.colorado.edu/sims/html/molecule-polarity/latest/molecule-polarity_en.html" title="Interactive chemistry simulation: Molecule Polarity">
                </iframe>
            </article>
            <!-- Biology Lab -->
            <article class="bg-white rounded-lg shadow-lg overflow-hidden flex flex-col">
                <h3 class="bg-pink-600 text-white text-xl font-bold p-4 select-none">
                    Biology Lab
                </h3>
                <iframe aria-label="Interactive biology simulation from PhET" class="w-full h-72 md:h-96 scrollbar-hide" loading="lazy" src="https://phet.colorado.edu/sims/html/cells/latest/cells_en.html" title="Interactive biology simulation: Cells">
                </iframe>
            </article>
            <!-- Math Lab -->
            <article class="bg-white rounded-lg shadow-lg overflow-hidden flex flex-col">
                <h3 class="bg-indigo-700 text-white text-xl font-bold p-4 select-none">
                    Math Lab
                </h3>
                <iframe aria-label="Interactive math simulation from PhET" class="w-full h-72 md:h-96 scrollbar-hide" loading="lazy" src="https://phet.colorado.edu/sims/html/arithmetic/latest/arithmetic_en.html" title="Interactive math simulation: Arithmetic">
                </iframe>
            </article>
        </div>
    </section>
    <!-- Mini Games / Puzzles -->
    <section aria-label="Mini Games and Puzzles" class="max-w-6xl mx-auto space-y-8" id="games-section">
        <h2 class="text-3xl font-extrabold text-white mb-6 select-none drop-shadow-lg text-center">
            Mini Games &amp; Puzzles
        </h2>
        <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-8">
            <!-- Game 1: Math Puzzle -->
            <article aria-label="Math Puzzle game" class="bg-white rounded-xl shadow-lg p-6 flex flex-col items-center hover:scale-105 transition-transform cursor-pointer focus:outline-none focus:ring-4 focus:ring-indigo-400" onclick="alert('Launching Math Puzzle!')" role="button" tabindex="0">
                <img alt="Colorful math puzzle game interface with numbers and shapes" class="rounded-lg mb-5 w-full object-cover h-48" height="192" loading="lazy" src="https://storage.googleapis.com/a1aa/image/3f1121bc-acb4-4e0d-9fff-84a389ad9e8d.jpg" width="400"/>
                <h3 class="text-xl font-extrabold text-indigo-700 mb-3">
                    Math Puzzle
                </h3>
                <a href="quiz.html" class="bg-indigo-600 text-white py-3 px-8 rounded-lg hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 transition" type="button">
                    Play Now
                </a>
            </article>
            <!-- Game 2: Science Quiz -->
            <article aria-label="Science Quiz game" class="bg-white rounded-xl shadow-lg p-6 flex flex-col items-center hover:scale-105 transition-transform cursor-pointer focus:outline-none focus:ring-4 focus:ring-indigo-400" onclick="alert('Launching Science Quiz!')" role="button" tabindex="0">
                <img alt="Science quiz game interface showing question and multiple choice answers" class="rounded-lg mb-5 w-full object-cover h-48" height="192" loading="lazy" src="https://storage.googleapis.com/a1aa/image/d2f33ab9-2627-4395-8ebc-9faf607e40ea.jpg" width="400"/>
                <h3 class="text-xl font-extrabold text-indigo-700 mb-3">
                    Science Quiz
                </h3>
                <a href="quiz.html" class="bg-indigo-600 text-white py-3 px-8 rounded-lg hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 transition" type="button">
                    Play Now
                </a>
            </article>
            <!-- Game 3: Logic Puzzle -->
            <article aria-label="Logic Puzzle game" class="bg-white rounded-xl shadow-lg p-6 flex flex-col items-center hover:scale-105 transition-transform cursor-pointer focus:outline-none focus:ring-4 focus:ring-indigo-400" onclick="alert('Launching Logic Puzzle!')" role="button" tabindex="0">
                <img alt="Logic puzzle game interface with shapes and patterns" class="rounded-lg mb-5 w-full object-cover h-48" height="192" loading="lazy" src="https://storage.googleapis.com/a1aa/image/70dc9764-1be7-4409-cc1e-f5f087d46fc7.jpg" width="400"/>
                <h3 class="text-xl font-extrabold text-indigo-700 mb-3">
                    Logic Puzzle
                </h3>
                <a href="quiz.html" class="bg-indigo-600 text-white py-3 px-8 rounded-lg hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 transition" type="button">
                    Play Now
                </a>
            </article>
        </div>
    </section>
</main>
<footer class="bg-gradient-to-r from-indigo-700 via-purple-700 to-pink-700 text-white p-6 text-center select-none">
    <p class="text-sm font-semibold">
        © 2024 STEM Learning Hub. All rights reserved.
    </p>
</footer>
<script>
    // Countdown timer for Today's Challenge reset (24h cycle)
    const challengeTimerEl = document.getElementById('challenge-timer');
    const challengeTextEl = document.getElementById('challenge-text');

    // Example challenges array
    const challenges = [
        'Solve the mystery of the missing variable in the algebraic equation: 3x + 7 = 22.',
        'Calculate the acceleration of a car that goes from 0 to 60 mph in 5 seconds.',
        'Identify the type of chemical bond in a water molecule.',
        'Explain why the sky appears blue during the day.',
        'Determine the next number in the sequence: 2, 4, 8, 16, ?',
        'Describe the process of photosynthesis in plants.',
        'Calculate the area of a triangle with base 10cm and height 7cm.',
        'Explain Newton’s third law of motion with an example.',
        'Identify the parts of an atom and their charges.',
        'Solve the riddle: I speak without a mouth and hear without ears. What am I?',
    ];

    let currentChallengeIndex = 0;

    function updateTimer() {
        const now = new Date();
        // Reset time at midnight UTC
        const nextReset = new Date(Date.UTC(now.getUTCFullYear(), now.getUTCMonth(), now.getUTCDate() + 1));
        const diff = nextReset - now;
        if (diff <= 0) {
            // Reset challenge
            currentChallengeIndex = (currentChallengeIndex + 1) % challenges.length;
            challengeTextEl.textContent = challenges[currentChallengeIndex];
        }
        const hours = Math.floor(diff / (1000 * 60 * 60));
        const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
        const seconds = Math.floor((diff % (1000 * 60)) / 1000);
        challengeTimerEl.textContent = `Resets in: ${hours}h ${minutes}m ${seconds}s`;
    }

    function refreshChallenge() {
        currentChallengeIndex = (currentChallengeIndex + 1) % challenges.length;
        challengeTextEl.textContent = challenges[currentChallengeIndex];
        updateTimer();
    }

    setInterval(updateTimer, 1000);
    updateTimer();

    // XP System
    let currentXP = 3500;
    let maxXP = 5000;
    let currentLevel = 7;

    function gainXP(amount) {
        currentXP += amount;
        if (currentXP >= maxXP) {
            currentXP -= maxXP;
            currentLevel++;
            maxXP = Math.floor(maxXP * 1.3);
            alert(`🎉 Congratulations! You leveled up to Level ${currentLevel}!`);
        }
        updateXPBar();
    }

    function updateXPBar() {
        const xpBar = document.getElementById('xp-bar');
        const xpPercent = Math.min((currentXP / maxXP) * 100, 100);
        xpBar.style.width = xpPercent + '%';
        xpBar.setAttribute('aria-valuenow', currentXP);
        xpBar.setAttribute('aria-valuemax', maxXP);
        xpBar.setAttribute('aria-valuemin', 0);
        // Update text
        const levelText = xpBar.closest('section').querySelector('div[aria-label^="Current level"]');
        if(levelText) levelText.textContent = `Level ${currentLevel}`;
        const xpText = xpBar.closest('section').querySelector('div[aria-label^="Experience points"]');
        if(xpText) xpText.textContent = `XP: ${currentXP} / ${maxXP}`;
    }
</script>
</body>
</html>
